<div class="container_2">

    <div class="content_2">

        <mat-card>
            <mat-spinner *ngIf = "Loading"></mat-spinner>  
            <form [formGroup]= "form" (submit) = "onAddPost()"  *ngIf = "!Loading">  
                <mat-form-field> 
                    <input matInput type="text" formControlName = "title"  placeholder="Title">
                    <mat-error *ngIf= "form.get('title')?.invalid">This field is required</mat-error>  
                </mat-form-field>

        

                <mat-form-field> 
                    <textarea rows="6" matInput formControlName = "content" placeholder="Content"></textarea>
                    <mat-error *ngIf= "form.get('content')?.invalid">This field is required</mat-error>  
                </mat-form-field>

                <div>  
                    <button mat-stroked-button type="button"(click)="filepicker.click()">  
                      Pick Image  
                    </button>  
                    <input type="file" #filepicker (change) = "PickedImage($event)">  
                  </div>  

                  <div class="image-preview" *ngIf="Pickedimage !== '' && Pickedimage && form.get('image')?.valid">
                    <img [src]= "Pickedimage" [alt]= "form.value.title">
                </div>
            
                <button mat-raised-button color="primary" type="submit">Save</button>

                
            </form>
            
        </mat-card>
        
    </div>

</div>
